<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>æ¨‚ç¨‹åŠ å†¬ä»¤ç‡Ÿ 2026 | å•Ÿç™¼å­©å­çš„ç§‘æŠ€å‰µé€ åŠ›</title>
    <meta name="description" content="2026 æœ€å¼·å†¬ä»¤ç‡Ÿï¼çµåˆ Minecraftã€LEGO æ©Ÿå™¨äººã€3Dåˆ—å°èˆ‡é›·å°„åˆ‡å‰²ã€‚æ—©é³¥å„ªæƒ å€’æ•¸ä¸­ï¼Œç«‹å³å ±åäº«æœ€é«˜ $2000 æŠ˜æ‰£ï¼">
    <meta property="og:image" content="https://images.unsplash.com/photo-1596464716127-f9a8659b3633?q=80&w=1200">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
    
    <style>
        body { font-family: system-ui, -apple-system, sans-serif; -webkit-tap-highlight-color: transparent; }
        .hide-scrollbar::-webkit-scrollbar { display: none; }
        .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        #loading-screen { position: fixed; inset: 0; background: #f3f4f6; display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 9999; transition: opacity 0.5s; }
        .loader { border: 4px solid #e5e7eb; border-top: 4px solid #4f46e5; border-radius: 50%; width: 40px; height: 40px; animation: spin 1s linear infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .markdown-bold { font-weight: 700; color: #4f46e5; }
        .smooth-scroll { scroll-behavior: smooth; }
        @keyframes pulse-soft { 0%, 100% { opacity: 1; } 50% { opacity: 0.8; } }
        .animate-pulse-soft { animation: pulse-soft 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; }
        @keyframes fade-in-scale { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
        .animate-fade-in-scale { animation: fade-in-scale 0.2s ease-out forwards; }
    </style>
</head>
<body class="bg-gray-50 pb-40 md:pb-48 relative">

    <div id="loading-screen">
        <div class="loader mb-4"></div>
        <div id="loading-text" class="text-gray-600 font-bold">ğŸš€ æ­£åœ¨å•Ÿå‹•æ¨‚ç¨‹åŠå†¬ä»¤ç‡Ÿ...</div>
    </div>
    
    <div id="root"></div>

    <script>
        window.onerror = function(msg, url, lineNo, columnNo, error) {
            document.getElementById('loading-screen').style.display = 'none';
            // é€™è£¡å¯ä»¥é¸æ“‡ä¸é¡¯ç¤ºéŒ¯èª¤çµ¦ä½¿ç”¨è€…çœ‹ï¼Œé¿å…åš‡åˆ°ä»–å€‘ï¼Œæ”¹ç‚º console log
            console.error('App Error:', msg, lineNo);
            return false;
        };

        setTimeout(function() {
            var loader = document.getElementById('loading-screen');
            if (loader && loader.style.display !== 'none') {
                if(document.getElementById('root').innerHTML !== "") {
                   loader.style.display = 'none';
                } else {
                    // è‹¥çœŸçš„è¶…æ™‚å¤ªä¹…ï¼Œå¼·åˆ¶é—œé–‰
                    loader.style.display = 'none';
                }
            }
        }, 3000);
    </script>

    <script type="text/babel">
        // æ‚¨çš„ API Key
        const envApiKey = "AIzaSyC-pTaL-CzxUpiwYTDK_yrfyh7nip2myO0";

        // --- 1. åŸºç¤å…ƒä»¶ ---
        function SimpleMarkdown({ text }) {
            if (!text) return null;
            const lines = text.split('\n');
            return (
                <div className="space-y-1">
                    {lines.map((line, i) => {
                        const parts = line.split(/(\*\*.*?\*\*)/g);
                        return (
                            <div key={i} className="min-h-[1.2em]">
                                {parts.map((part, j) => {
                                    if (part.startsWith('**') && part.endsWith('**')) {
                                        return <span key={j} className="markdown-bold">{part.slice(2, -2)}</span>;
                                    }
                                    return part;
                                })}
                            </div>
                        );
                    })}
                </div>
            );
        }

        function Icon({ path, className, onClick }) {
            return (
                <svg onClick={onClick} xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                    {path}
                </svg>
            );
        }

        const Icons = {
            Rocket: (p) => <Icon {...p} path={<g><path d="M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z"/><path d="m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z"/><path d="M9 12H4s.55-3.03 2-4c1.62-1.1 2.72-1.68 4-1.68v2c-.2 1.45-1 3-1 3Z"/><path d="M12 15V9c0-1.3 1.05-2.2 4-4 .95 1.5.3 4-2 6Z"/></g>} />,
            Palette: (p) => <Icon {...p} path={<g><circle cx="13.5" cy="6.5" r=".5" fill="currentColor"/><circle cx="17.5" cy="10.5" r=".5" fill="currentColor"/><circle cx="8.5" cy="7.5" r=".5" fill="currentColor"/><circle cx="6.5" cy="12.5" r=".5" fill="currentColor"/><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z"/></g>} />,
            Star: (p) => <Icon {...p} path={<polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/>} />,
            Calendar: (p) => <Icon {...p} path={<g><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></g>} />,
            Clock: (p) => <Icon {...p} path={<g><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></g>} />,
            MapPin: (p) => <Icon {...p} path={<g><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></g>} />,
            ChevronRight: (p) => <Icon {...p} path={<path d="m9 18 6-6-6-6"/>} />,
            ChevronDown: (p) => <Icon {...p} path={<path d="m6 9 6 6 6-6"/>} />,
            ChevronUp: (p) => <Icon {...p} path={<path d="m18 15-6-6-6 6"/>} />,
            ArrowUp: (p) => <Icon {...p} path={<path d="m5 12 7-7 7 7M12 19V5"/>} />,
            Cpu: (p) => <Icon {...p} path={<g><rect x="4" y="4" width="16" height="16" rx="2"/><rect x="9" y="9" width="6" height="6"/><path d="M15 2v2"/><path d="M15 20v2"/><path d="M2 15h2"/><path d="M2 9h2"/><path d="M20 15h2"/><path d="M20 9h2"/><path d="M9 2v2"/><path d="M9 20v2"/></g>} />,
            Box: (p) => <Icon {...p} path={<g><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/><polyline points="3.27 6.96 12 12.01 20.73 6.96"/><line x1="12" y1="22.08" x2="12" y2="12"/></g>} />,
            Heart: (p) => <Icon {...p} path={<path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/>} />,
            MousePointer2: (p) => <Icon {...p} path={<path d="m12 6 2-2H6.06c-1.3 0-2.4 1-2.5 2.3L3 18.2c-.1 1.3 1 2.3 2.3 2.3H9"/>} />,
            Gift: (p) => <Icon {...p} path={<g><rect x="3" y="8" width="18" height="4" rx="1"/><path d="M12 8v13"/><path d="M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7"/><path d="M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.9 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5"/></g>} />,
            X: (p) => <Icon {...p} path={<path d="M18 6 6 18M6 6l12 12"/>} />,
            Check: (p) => <Icon {...p} path={<polyline points="20 6 9 17 4 12"/>} />,
            MessageCircle: (p) => <Icon {...p} path={<path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"/>} />,
            Send: (p) => <Icon {...p} path={<g><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></g>} />,
            Sparkles: (p) => <Icon {...p} path={<g><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z"/><path d="M5 3v4"/><path d="M9 3v4"/><path d="M3 7h4"/><path d="M3 3h4"/></g>} />,
            Key: (p) => <Icon {...p} path={<g><path d="m21 2-2 2m-7.6 7.6a6.5 6.5 0 1 1-9.199-9.199 6.5 6.5 0 0 1 9.198 9.199Z"/><path d="m21 2-9.6 9.6"/><path d="m21 12-5-5m3 3-2-2"/></g>} />,
            Mic: (p) => <Icon {...p} path={<g><path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"/><path d="M19 10v2a7 7 0 0 1-14 0v-2"/><line x1="12" y1="19" x2="12" y2="23"/><line x1="8" y1="23" x2="16" y2="23"/></g>} />,
            MicOff: (p) => <Icon {...p} path={<g><line x1="1" y1="1" x2="23" y2="23"/><path d="M9 9v3a3 3 0 0 0 5.12 2.12M15 9.34V4a3 3 0 0 0-5.94-.6"/><path d="M17 16.95A7 7 0 0 1 5 12v-2m14 0v2a7 7 0 0 1-.11 1.23"/><line x1="12" y1="19" x2="12" y2="23"/><line x1="8" y1="23" x2="16" y2="23"/></g>} />,
            Lock: (p) => <Icon {...p} path={<g><rect x="3" y="11" width="18" height="11" rx="2" ry="2" /><path d="M7 11V7a5 5 0 0 1 10 0v4" /></g>} />,
            Save: (p) => <Icon {...p} path={<g><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z" /><polyline points="17 21 17 13 7 13 7 21" /><polyline points="7 3 7 8 15 8" /></g>} />,
            Line: (p) => <Icon {...p} path={<path d="M12 2C6.5 2 2 6.1 2 11.2c0 2.9 1.5 5.5 3.9 7.2.2.1.4.5.3.9-.3 1-.7 2.4-.7 2.4-.1.4.3.7.6.4l4.2-2.8c.4-.3.9-.3 1.3-.3h.4c5.5 0 10-4.1 10-9.2C22 6.1 17.5 2 12 2z" />} />,
            Bot: (p) => <Icon {...p} path={<g><rect x="3" y="11" width="18" height="10" rx="2"/><circle cx="12" cy="5" r="2"/><path d="M12 7v4"/><line x1="8" y1="16" x2="8" y2="16"/><line x1="16" y1="16" x2="16" y2="16"/></g>} />
        };

        // --- AI æ™ºèƒ½é¸èª²åŠ©æ‰‹ Modal (é›™æ ¸å¿ƒæ¨¡å¼ï¼šAPIå„ªå…ˆï¼Œæœ¬åœ°å‚™æ¡ˆ) ---
        function AIRecommendationModal({ isOpen, onClose, camps }) {
            const [age, setAge] = React.useState('');
            const [selectedInterests, setSelectedInterests] = React.useState(new Set());
            const [result, setResult] = React.useState('');
            const [loading, setLoading] = React.useState(false);

            const interestTags = [
                "ğŸ“± æƒ³åšè‡ªå·±çš„ APP", "ğŸ® è¶…æ„›ç© Minecraft", "ğŸ¤– å–œæ­¡çµ„è£æ¨‚é«˜",
                "ğŸ¨ å–œæ­¡ç•«ç•«è¨­è¨ˆ", "ğŸ› ï¸ å–œæ­¡å‹•æ‰‹åšå‹ä½œ", "âš™ï¸ å°æ©Ÿæ¢°æ§‹é€ å¥½å¥‡",
                "ğŸ–¨ï¸ æƒ³å­¸ 3D åˆ—å°/é›·åˆ‡", "ğŸ§© å–œæ­¡è§£è¬é—–é—œ", "ğŸ‰ æƒ³è¦æŒ‘æˆ° Boss æˆ°"
            ];

            if (!isOpen) return null;

            const toggleInterest = (tag) => {
                const newSet = new Set(selectedInterests);
                if (newSet.has(tag)) newSet.delete(tag);
                else newSet.add(tag);
                setSelectedInterests(newSet);
            };

            // æœ¬åœ°æ¨è–¦é‚è¼¯ (ç•¶ API å¤±æ•—æ™‚ä½¿ç”¨)
            const localAnalyze = (age, interests) => {
                const interestList = Array.from(interests);
                let scores = { time: 0, art: 0, newyear: 0 };
                
                // ç°¡å–®è¨ˆåˆ†
                interestList.forEach(i => {
                    if (i.includes("APP") || i.includes("Minecraft") || i.includes("æ¨‚é«˜")) scores.time += 2;
                    if (i.includes("ç•«ç•«") || i.includes("å‹ä½œ") || i.includes("æ©Ÿæ¢°")) scores.art += 2;
                    if (i.includes("3D") || i.includes("è§£è¬") || i.includes("Boss")) scores.newyear += 2;
                    // äº¤å‰åŠ åˆ†
                    if (i.includes("æ¨‚é«˜")) { scores.art += 1; scores.newyear += 1; }
                    if (i.includes("Minecraft")) { scores.newyear += 1; }
                });

                // æ‰¾å‡ºæœ€é«˜åˆ†
                let winner = 'time';
                if (scores.art > scores.time && scores.art >= scores.newyear) winner = 'art';
                else if (scores.newyear > scores.time && scores.newyear > scores.art) winner = 'newyear';
                
                const campNames = {
                    time: "æ™‚ç©ºæ¢éšªéšŠï¼šæ‹¯æ•‘æœªä¾†ä¸–ç•Œ",
                    art: "è—è¡“æ©Ÿæ¢°å¸«ï¼šå‰µæ„è£½é€ å·¥åŠ",
                    newyear: "æ–°æ˜¥ç™¼æ˜å®¶ï¼šæ‹¯æ•‘ç¦æ°£å¡”"
                };

                return `æ ¹æ“šå­©å­çš„èˆˆè¶£ï¼ˆ${interestList.join('ã€')}ï¼‰ï¼Œæˆ‘å¼·çƒˆæ¨è–¦ **${campNames[winner]}**ï¼\n\né€™å€‹ç‡ŸéšŠçµåˆäº†å­©å­å–œæ­¡çš„å…ƒç´ ï¼Œèƒ½è®“ä»–åœ¨å‹•æ‰‹åšä¸­ç²å¾—æ»¿æ»¿æˆå°±æ„Ÿã€‚`;
            };

            const handleAnalyze = async () => {
                if (!age || selectedInterests.size === 0) return;
                setLoading(true);
                
                // å„ªå…ˆå˜—è©¦ä½¿ç”¨ Gemini API
                try {
                    const campDescriptions = Object.values(camps).map(c => `${c.title} (é‡é»: ${c.tags.join(',')})`).join('\n');
                    const interestsArray = Array.from(selectedInterests).join('ã€');
                    
                    const prompt = `
                        ä½œç‚ºå†¬ä»¤ç‡Ÿèª²ç¨‹é¡§å•ï¼Œè«‹æ¨è–¦ä¸€å€‹æœ€é©åˆçš„ç‡ŸéšŠã€‚
                        å­©å­å¹´é½¡ï¼š${age}
                        èˆˆè¶£ï¼š${interestsArray}
                        ç‡ŸéšŠåˆ—è¡¨ï¼š
                        ${campDescriptions}
                        
                        è«‹ç”¨è¦ªåˆ‡ç¹é«”ä¸­æ–‡å›ç­”ï¼Œç›´æ¥å»ºè­°ä¸€å€‹ç‡ŸéšŠä¸¦ç°¡è¿°åŸå› (50å­—å…§)ã€‚
                    `;
                    
                    // ä½¿ç”¨ gemini-1.5-flash æ¨¡å‹ (æ›´ç©©å®š)
                    const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${envApiKey}`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ contents: [{ parts: [{ text: prompt }] }] })
                    });
                    
                    const data = await response.json();
                    
                    if (data.error) {
                        console.warn("API Error, falling back to local logic", data.error);
                        setResult(localAnalyze(age, selectedInterests)); // Fallback
                    } else {
                        setResult(data.candidates?.[0]?.content?.parts?.[0]?.text || localAnalyze(age, selectedInterests));
                    }
                } catch (e) {
                    console.warn("Fetch failed, falling back to local logic", e);
                    setResult(localAnalyze(age, selectedInterests)); // Fallback
                } finally {
                    setLoading(false);
                }
            };

            return (
                <div className="fixed inset-0 z-[80] bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 animate-fade-in-scale">
                    <div className="bg-white rounded-3xl p-6 w-full max-w-md shadow-2xl relative overflow-hidden max-h-[90vh] overflow-y-auto">
                        <div className="absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-blue-500 to-purple-500"></div>
                        <button onClick={onClose} className="absolute top-4 right-4 text-gray-400 hover:text-gray-600"><Icons.X className="w-6 h-6"/></button>
                        
                        <div className="text-center mb-6">
                            <div className="inline-block p-3 rounded-full bg-blue-50 mb-3 text-blue-600"><Icons.Bot className="w-8 h-8" /></div>
                            <h3 className="text-2xl font-bold text-gray-800">AI æ™ºèƒ½é¸èª²åŠ©æ‰‹</h3>
                            <p className="text-gray-500 text-sm mt-1">é¸æ“‡å­©å­çš„èˆˆè¶£ï¼Œå¹«æ‚¨æ‰¾åˆ°æœ¬å‘½ç‡ŸéšŠï¼</p>
                        </div>

                        <div className="space-y-5">
                            <div>
                                <label className="block text-sm font-bold text-gray-700 mb-2">1. å­©å­å¹¾æ­²ï¼Ÿ</label>
                                <select value={age} onChange={e=>setAge(e.target.value)} className="w-full bg-gray-50 border border-gray-200 rounded-xl p-3 outline-none focus:ring-2 focus:ring-blue-500 appearance-none">
                                    <option value="">è«‹é¸æ“‡å¹´é½¡</option>
                                    {[...Array(9)].map((_, i) => <option key={i} value={`${i+7}æ­²`}>{i+7} æ­²</option>)}
                                </select>
                            </div>
                            
                            <div>
                                <label className="block text-sm font-bold text-gray-700 mb-2">2. å¹³å¸¸å–œæ­¡åšä»€éº¼ï¼Ÿ (å¯è¤‡é¸)</label>
                                <div className="flex flex-wrap gap-2">
                                    {interestTags.map((tag) => (
                                        <button
                                            key={tag}
                                            onClick={() => toggleInterest(tag)}
                                            className={`px-3 py-2 rounded-lg text-sm font-medium transition-all ${
                                                selectedInterests.has(tag)
                                                ? 'bg-blue-600 text-white shadow-md transform scale-105'
                                                : 'bg-gray-100 text-gray-600 hover:bg-gray-200'
                                            }`}
                                        >
                                            {tag}
                                        </button>
                                    ))}
                                </div>
                            </div>

                            {!result && (
                                <button onClick={handleAnalyze} disabled={loading || !age || selectedInterests.size === 0} className="w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-bold py-3 rounded-xl shadow-lg hover:shadow-xl hover:scale-[1.02] transition-all disabled:opacity-50 disabled:cursor-not-allowed flex justify-center items-center gap-2 mt-4">
                                    {loading ? 'AI æ­£åœ¨æ€è€ƒä¸­...' : <><Icons.Sparkles className="w-5 h-5" /> é–‹å§‹åˆ†æ</>}
                                </button>
                            )}

                            {result && (
                                <div className="bg-indigo-50 border border-indigo-100 rounded-2xl p-4 mt-4 animate-slide-up">
                                    <h4 className="font-bold text-indigo-900 mb-2 flex items-center gap-2">ğŸ¯ æ¨è–¦çµæœï¼š</h4>
                                    <div className="text-gray-700 leading-relaxed text-sm">
                                        <SimpleMarkdown text={result} />
                                    </div>
                                    <button onClick={() => {setResult(''); setAge(''); setSelectedInterests(new Set());}} className="mt-3 text-xs text-indigo-500 hover:text-indigo-700 font-bold underline block w-full text-center py-2">å†æ¸¬ä¸€æ¬¡</button>
                                </div>
                            )}
                        </div>
                    </div>
                </div>
            );
        }

        // --- 2. å€’æ•¸è¨ˆæ™‚å™¨ ---
        function CountdownTimer() {
            const [timeLeft, setTimeLeft] = React.useState({ days: 0, hours: 0, minutes: 0, seconds: 0 });

            React.useEffect(() => {
                const targetDate = new Date('2025-12-31T23:59:59'); 
                const timer = setInterval(() => {
                    const now = new Date();
                    const difference = targetDate - now;

                    if (difference > 0) {
                        const days = Math.floor(difference / (1000 * 60 * 60 * 24));
                        const hours = Math.floor((difference / (1000 * 60 * 60)) % 24);
                        const minutes = Math.floor((difference / 1000 / 60) % 60);
                        const seconds = Math.floor((difference / 1000) % 60);
                        setTimeLeft({ days, hours, minutes, seconds });
                    } else {
                        clearInterval(timer);
                    }
                }, 1000);

                return () => clearInterval(timer);
            }, []);

            const f = (n) => n.toString().padStart(2, '0');

            return (
                <div className="mt-8 bg-blue-900/40 backdrop-blur-md border border-blue-200/20 rounded-2xl p-4 md:p-6 max-w-3xl mx-auto flex flex-col md:flex-row items-center justify-between gap-4 shadow-xl">
                    <div className="flex items-center gap-4">
                        <div className="bg-indigo-600 p-3 rounded-xl shadow-lg ring-1 ring-white/20">
                            <Icons.Clock className="w-6 h-6 text-white" />
                        </div>
                        <div className="text-left">
                            <div className="text-blue-100 text-sm font-medium tracking-wider mb-1">æ—©é³¥å„ªæƒ å€’æ•¸</div>
                            <div className="text-white font-bold text-lg md:text-xl flex items-center gap-2">
                                12/31 å‰ç¾æŠ˜ <span className="bg-yellow-400 text-yellow-900 px-2 py-0.5 rounded-md text-base">$500</span>
                            </div>
                        </div>
                    </div>
                    <div className="flex gap-3">
                        {['å¤©', 'æ™‚', 'åˆ†', 'ç§’'].map((label, i) => {
                            const val = [timeLeft.days, timeLeft.hours, timeLeft.minutes, timeLeft.seconds][i];
                            return (
                                <div key={i} className="flex flex-col items-center">
                                    <div className="bg-white/10 backdrop-blur-sm text-white font-mono text-xl md:text-2xl font-bold w-12 h-12 md:w-14 md:h-14 rounded-xl flex items-center justify-center border border-white/10 shadow-inner">
                                        {f(val)}
                                    </div>
                                    <span className="text-blue-200 text-[10px] mt-1.5 uppercase tracking-wider">{label}</span>
                                </div>
                            );
                        })}
                    </div>
                </div>
            );
        }

        // --- 3. Scroll To Top ---
        function ScrollToTop() {
            const [visible, setVisible] = React.useState(false);

            React.useEffect(() => {
                const toggleVisibility = () => {
                    if (window.pageYOffset > 300) {
                        setVisible(true);
                    } else {
                        setVisible(false);
                    }
                };
                window.addEventListener('scroll', toggleVisibility);
                return () => window.removeEventListener('scroll', toggleVisibility);
            }, []);

            if (!visible) return null;

            return (
                <button 
                    onClick={() => window.scrollTo({ top: 0, behavior: 'smooth' })}
                    className="fixed bottom-24 left-4 md:bottom-28 md:left-8 z-[60] bg-white/80 hover:bg-white text-gray-600 p-3 rounded-full shadow-lg border border-gray-200 transition-all hover:-translate-y-1 backdrop-blur-sm"
                >
                    <Icons.ArrowUp className="w-5 h-5" />
                </button>
            );
        }

        // --- 4. Testimonials ---
        function Testimonials() {
            const reviews = [
                { name: "é™³åª½åª½", kid: "å°å­¸ä¸‰å¹´ç´š", text: "å­©å­åƒåŠ å®Œæ™‚ç©ºæ¢éšªéšŠå¾Œï¼Œå›å®¶ä¸€ç›´åˆ†äº«åšå¥½çš„æ©Ÿå™¨äººï¼Œé‚„ä¸»å‹•èªªè¦å­¸ç¨‹å¼ï¼çœŸçš„å¾ˆæ¨è–¦ã€‚", stars: 5 },
                { name: "æ—çˆ¸çˆ¸", kid: "å°å­¸äº”å¹´ç´š", text: "åŸæœ¬æ“”å¿ƒå­©å­åä¸ä½ï¼Œçµæœç© Minecraft å­¸ç¨‹å¼ç©å¾—è¶…é–‹å¿ƒï¼Œè€å¸«å¼•å°å¾—å¾ˆå¥½ã€‚", stars: 5 },
                { name: "å¼µå°å§", kid: "å°å­¸ä¸€å¹´ç´š", text: "ç¬¬ä¸€æ¬¡åƒåŠ å†¬ä»¤ç‡Ÿï¼Œé›·å°„åˆ‡å‰²çš„ä½œå“å¾ˆæœ‰è³ªæ„Ÿï¼Œå¸¶å›å®¶é˜¿å…¬é˜¿å¬¤éƒ½èªªå¥½å²å®³ï¼", stars: 5 },
                { name: "ç‹å…ˆç”Ÿ", kid: "å°å­¸å››å¹´ç´š", text: "èª²ç¨‹å…§å®¹å¾ˆè±å¯Œï¼Œä¸æ˜¯åªæœ‰ç©éŠæˆ²ï¼ŒçœŸçš„æœ‰å­¸åˆ°é‚è¼¯æ€è€ƒï¼Œæ˜å¹´é‚„æœƒå†ä¾†ã€‚", stars: 5 }
            ];
            return (
                <div className="bg-white py-12 border-t border-gray-100">
                    <div className="max-w-[95%] xl:max-w-screen-2xl mx-auto px-4 sm:px-6">
                        <div className="text-center mb-10">
                            <h2 className="text-2xl md:text-3xl font-bold text-gray-900">å®¶é•·å¥½è©•æ¨è–¦</h2>
                            <p className="text-gray-500 mt-2">è½è½å…¶ä»–å®¶é•·æ€éº¼èªª</p>
                        </div>
                        <div className="flex overflow-x-auto gap-6 pb-8 hide-scrollbar snap-x">
                            {reviews.map((r, i) => (
                                <div key={i} className="flex-shrink-0 w-80 bg-gray-50 p-6 rounded-2xl border border-gray-100 snap-center shadow-sm">
                                    <div className="flex items-center gap-1 mb-3 text-yellow-400">
                                        {[...Array(r.stars)].map((_, si) => <Icons.Star key={si} className="w-4 h-4 fill-current" />)}
                                    </div>
                                    <p className="text-gray-700 mb-4 leading-relaxed">"{r.text}"</p>
                                    <div className="flex items-center justify-between text-sm">
                                        <span className="font-bold text-gray-900">{r.name}</span>
                                        <span className="text-gray-500 bg-white px-2 py-1 rounded-md border border-gray-200">{r.kid}</span>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>
                </div>
            );
        }

        // --- 5. Admin Panel (Local) ---
        function AdminPanel({ images, onSave, onClose }) {
            const [localImages, setLocalImages] = React.useState(images);
            const [password, setPassword] = React.useState('');
            const [isAuthenticated, setIsAuthenticated] = React.useState(false);

            const handleLogin = () => {
                if (password === 'admin') {
                    setIsAuthenticated(true);
                } else {
                    alert('å¯†ç¢¼éŒ¯èª¤ (é è¨­: admin)');
                }
            };

            const handleSave = () => {
                onSave(localImages);
                onClose();
                alert('è¨­å®šå·²å„²å­˜ï¼(æ³¨æ„ï¼šæ­¤ç‚ºé è¦½æ¨¡å¼ï¼Œåƒ…ä¿ç•™æ–¼æ­¤è£ç½®)');
            };

            if (!isAuthenticated) {
                return (
                    <div className="fixed inset-0 z-[70] bg-black/60 backdrop-blur-sm flex items-center justify-center p-4">
                        <div className="bg-white rounded-2xl p-6 w-full max-w-sm shadow-2xl animate-slide-up">
                            <h3 className="text-xl font-bold mb-4 flex items-center gap-2"><Icons.Key className="w-5 h-5 text-indigo-600" /> ç®¡ç†å“¡ç™»å…¥</h3>
                            <input type="password" value={password} onChange={(e)=>setPassword(e.target.value)} placeholder="è¼¸å…¥é€šè¡Œç¢¼: admin" className="w-full border rounded-lg p-3 mb-4 outline-none focus:ring-2 focus:ring-indigo-500" />
                            <div className="flex justify-end gap-2">
                                <button onClick={onClose} className="px-4 py-2 text-gray-500 hover:bg-gray-100 rounded-lg transition">å–æ¶ˆ</button>
                                <button onClick={handleLogin} className="px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition font-medium">ç™»å…¥</button>
                            </div>
                        </div>
                    </div>
                );
            }

            return (
                <div className="fixed inset-0 z-[70] bg-black/60 backdrop-blur-sm flex items-center justify-center p-4">
                    <div className="bg-white rounded-2xl p-6 w-full max-w-2xl shadow-2xl max-h-[90vh] overflow-y-auto animate-slide-up">
                        <div className="flex justify-between items-center mb-6 border-b pb-4">
                            <h3 className="text-xl font-bold flex items-center gap-2"><Icons.Palette className="w-5 h-5 text-indigo-600" /> æ´»å‹•å‰ªå½±ç®¡ç†</h3>
                            <button onClick={onClose}><Icons.X className="w-6 h-6 text-gray-400 hover:text-gray-600" /></button>
                        </div>
                        <div className="space-y-6">
                            {localImages.map((img, idx) => (
                                <div key={idx} className="border border-gray-200 p-4 rounded-xl bg-gray-50/50">
                                    <div className="flex gap-4 items-start">
                                        <div className="h-24 w-32 bg-gray-200 rounded-lg overflow-hidden flex-shrink-0 relative">
                                            <img src={img.src} className="w-full h-full object-cover" onError={(e)=>e.target.src='https://placehold.co/800x600?text=ç„¡æ•ˆé€£çµ'} referrerPolicy="no-referrer" />
                                        </div>
                                        <div className="flex-grow space-y-3">
                                            <div>
                                                <label className="block text-xs font-bold text-gray-500 mb-1 uppercase tracking-wider">åœ–ç‰‡é€£çµ URL</label>
                                                <input 
                                                    type="text" 
                                                    value={img.src} 
                                                    onChange={(e) => {
                                                        const newImages = [...localImages];
                                                        newImages[idx] = { ...newImages[idx], src: e.target.value };
                                                        setLocalImages(newImages);
                                                    }} 
                                                    className="w-full border rounded-lg p-2 text-sm focus:ring-2 focus:ring-indigo-500 outline-none bg-white" 
                                                    placeholder="https://..." 
                                                />
                                            </div>
                                            <div>
                                                <label className="block text-xs font-bold text-gray-500 mb-1 uppercase tracking-wider">åœ–ç‰‡æ¨™é¡Œ</label>
                                                <input 
                                                    type="text" 
                                                    value={img.label} 
                                                    onChange={(e) => {
                                                        const newImages = [...localImages];
                                                        newImages[idx] = { ...newImages[idx], label: e.target.value };
                                                        setLocalImages(newImages);
                                                    }} 
                                                    className="w-full border rounded-lg p-2 text-sm focus:ring-2 focus:ring-indigo-500 outline-none bg-white" 
                                                />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            ))}
                        </div>
                        <div className="flex justify-end gap-3 mt-6 pt-4 border-t">
                            <button onClick={onClose} className="px-5 py-2.5 text-gray-600 hover:bg-gray-100 rounded-xl transition">å–æ¶ˆ</button>
                            <button onClick={handleSave} className="px-6 py-2.5 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 transition font-medium flex items-center gap-2 shadow-lg shadow-indigo-200"><Icons.Check className="w-4 h-4" /> å„²å­˜è®Šæ›´</button>
                        </div>
                    </div>
                </div>
            );
        }

        // --- 6. Gallery ---
        function Gallery() {
            const defaultImages = [
                { src: "https://i.ibb.co/NdmWqJF2/image.jpg", label: "å°ˆæ³¨å­¸ç¿’" },
                { src: "https://i.ibb.co/0VCTbMVk/SPIKE.png", label: "æ¨‚é«˜æ©Ÿå™¨äººå¯¦ä½œ" },
                { src: "https://i.ibb.co/ynB9rzf0/2025-12-12-132717.png", label: "åœ˜éšŠåˆä½œè§£é¡Œ" },
                { src: "https://i.ibb.co/HTnprMbJ/9-21.jpg", label: "å‹•æ‰‹åš Maker" }
            ];

            const [images, setImages] = React.useState(defaultImages);
            const [showAdmin, setShowAdmin] = React.useState(false);
            
            React.useEffect(() => { 
                try {
                    const saved = localStorage.getItem('camp_gallery_images'); 
                    if (saved) setImages(JSON.parse(saved)); 
                } catch(e) {} 
            }, []);
            
            const handleSaveImages = (newImages) => { 
                setImages(newImages); 
                localStorage.setItem('camp_gallery_images', JSON.stringify(newImages)); 
            };

            return (
                <div className="bg-gray-50 py-12 relative border-t border-gray-100">
                    {showAdmin && <AdminPanel images={images} onSave={handleSaveImages} onClose={() => setShowAdmin(false)} />}
                    <div className="max-w-[95%] xl:max-w-screen-2xl mx-auto px-4 sm:px-6">
                        <div className="text-center mb-10">
                            <h2 className="text-2xl md:text-3xl font-bold text-gray-900">ç²¾å½©æ´»å‹•å‰ªå½±</h2>
                            <p className="text-gray-500 mt-2">å°ˆæ³¨çš„çœ¼ç¥ï¼Œæ˜¯å­¸ç¿’æœ€ç¾çš„é¢¨æ™¯</p>
                        </div>
                        <div className="grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6">
                            {images.map((img, i) => (
                                <div key={i} className="rounded-2xl overflow-hidden shadow-lg group relative aspect-[4/3] cursor-pointer bg-gray-200 border-4 border-white">
                                    <img src={img.src} alt={`æ´»å‹•ç…§ç‰‡ ${i+1}`} className="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110" loading="lazy" referrerPolicy="no-referrer" onError={(e)=>e.target.src='https://placehold.co/800x600?text=åœ–ç‰‡è¼‰å…¥ä¸­'} />
                                    <div className="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end justify-center pb-4">
                                        <span className="text-white font-bold text-sm md:text-base tracking-wide">{img.label}</span>
                                    </div>
                                </div>
                            ))}
                        </div>
                    </div>
                    
                    <div className="flex justify-center mt-12 mb-4">
                        <button 
                            onClick={() => setShowAdmin(true)} 
                            className="flex items-center gap-2 px-4 py-2 bg-gray-200 hover:bg-indigo-100 text-gray-600 hover:text-indigo-700 rounded-full text-xs font-bold transition-colors border border-gray-300 hover:border-indigo-300 admin-btn"
                        >
                            <Icons.Lock className="w-3 h-3" /> ç®¡ç†å“¡ç™»å…¥ (æ›´æ›ç…§ç‰‡)
                        </button>
                    </div>
                </div>
            );
        }

        // --- 7. AI Chat Assistant ---
        function AIChatAssistant({ camps }) {
            const [isOpen, setIsOpen] = React.useState(false);
            const [messages, setMessages] = React.useState([{ role: 'model', text: 'ğŸ‘‹ æ‚¨å¥½ï¼æˆ‘æ˜¯æ¨‚ç¨‹åŠ AI é¡§å•ã€‚æƒ³äº†è§£ **é©åˆå¹´é½¡** æˆ– **æ—©é³¥å„ªæƒ ** å—ï¼Ÿæˆ‘å¯ä»¥å¿«é€Ÿç‚ºæ‚¨èªªæ˜ï¼âœ¨' }]);
            const [input, setInput] = React.useState('');
            const [isLoading, setIsLoading] = React.useState(false);
            const [isListening, setIsListening] = React.useState(false);
            const [userApiKey, setUserApiKey] = React.useState('');
            const messagesEndRef = React.useRef(null);
            
            React.useEffect(() => { 
                try {
                    const storedKey = localStorage.getItem('gemini_api_key'); 
                    if (storedKey) setUserApiKey(storedKey); 
                } catch(e) {}
            }, []);
            
            const suggestedQuestions = ["é©åˆå¹¾æ­²ï¼Ÿ", "æœ‰ä»€éº¼å„ªæƒ ï¼Ÿ", "æ™‚ç©ºæ¢éšªéšŠå…§å®¹ï¼Ÿ", "âœ¨ ç”Ÿæˆå‰µæ„é»å­"];
            
            React.useEffect(() => { messagesEndRef.current?.scrollIntoView({ behavior: "smooth" }); }, [messages]);
            
            const startListening = () => {
                if (!('webkitSpeechRecognition' in window)) {
                    alert("æ‚¨çš„ç€è¦½å™¨ä¸æ”¯æ´èªéŸ³è¼¸å…¥ï¼Œè«‹ä½¿ç”¨ Chrome æˆ– Safariã€‚");
                    return;
                }
                const recognition = new window.webkitSpeechRecognition();
                recognition.lang = 'zh-TW';
                recognition.continuous = false;
                recognition.interimResults = false;

                recognition.onstart = () => setIsListening(true);
                recognition.onend = () => setIsListening(false);
                recognition.onerror = (e) => { console.error(e); setIsListening(false); };
                
                recognition.onresult = (event) => {
                    const transcript = event.results[0][0].transcript;
                    setInput(transcript);
                    setTimeout(() => handleSend(transcript), 500);
                };

                recognition.start();
            };

            const callGemini = async (userQuery) => {
                const activeKey = envApiKey || userApiKey;
                if (!activeKey) return "è«‹å…ˆè¨­å®š API Keyã€‚";

                setIsLoading(true);
                
                // Fallback Logic for Q&A
                const localQA = (q) => {
                    if (q.includes("å„ªæƒ ")) return "**æ—©é³¥å„ªæƒ **ï¼š12/31 å‰å ±åç¾æŠ˜ $500ï¼å¦æœ‰èˆŠç”Ÿã€åœ˜å ±å„ªæƒ ã€‚";
                    if (q.includes("å¹¾æ­²")) return "æˆ‘å€‘çš„èª²ç¨‹é©åˆ **å°å­¸ä¸€å¹´ç´šåˆ°å…­å¹´ç´š** çš„å­©å­åƒåŠ å–”ï¼";
                    if (q.includes("æ™‚ç©º")) return "**æ™‚ç©ºæ¢éšªéšŠ** çµåˆäº† Minecraftã€Lego SPIKE èˆ‡ APP ç¨‹å¼è¨­è¨ˆï¼Œé©åˆå–œæ­¡ç§‘æŠ€çš„å­©å­ã€‚";
                    if (q.includes("åœ°é»")) return "ä¸Šèª²åœ°é»åœ¨ **å°åŒ—å¸‚ç§‘æŠ€æ•™è‚²ä¸­å¿ƒ**ã€‚";
                    return null;
                }

                const localAns = localQA(userQuery);
                if (localAns) {
                    setIsLoading(false);
                    return localAns;
                }

                try {
                    const campContext = Object.values(camps).map(camp => 
                        `ã€${camp.title}ã€‘\næ™‚é–“:${camp.date}\né‡é»:${camp.tags.join('/')}\nèª²è¡¨:${camp.schedule.map(d=>d.title).join(',')}`
                    ).join('\n');
                    const promoContext = `å„ªæƒ : 1.æ—©é³¥æŠ˜500(12/31å‰) 2.èˆŠç”ŸæŠ˜500 3.åœ˜å ±æŠ˜500 4.åˆ†äº«æŠ˜500ã€‚æœ€é«˜æŠ˜2000ã€‚`;
                    const systemPrompt = `ä½ æ˜¯ä¸€å€‹å°ˆæ¥­ç°¡æ½”çš„å¤ä»¤ç‡Ÿé¡§å•ã€‚**å›ç­”è¦å‰‡ï¼š** 1. **ç²¾ç°¡æ‰¼è¦**ï¼šå›ç­”æ§åˆ¶åœ¨ 100 å­—å…§ã€‚ 2. **æ ¼å¼åŒ–**ï¼šå¿…é ˆä½¿ç”¨ Markdown æ ¼å¼ (ç²—é«”ã€æ¸…å–®)ã€‚ 3. **èªæ°£**ï¼šè¦ªåˆ‡ã€ç¹é«”ä¸­æ–‡ã€‚ è³‡è¨Šï¼š\n${campContext}\n${promoContext}`;

                    const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${activeKey}`, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ contents: [{ role: "user", parts: [{ text: userQuery }] }], systemInstruction: { parts: [{ text: systemPrompt }] } })
                    });
                    const data = await response.json();
                    
                    if (data.error) {
                        console.warn("API Error:", data.error);
                        return "æŠ±æ­‰ï¼ŒAI æš«æ™‚ç„¡æ³•é€£ç·šï¼Œæ‚¨å¯ä»¥åƒè€ƒä¸Šæ–¹çš„å¸¸è¦‹å•é¡Œï¼Œæˆ–ç›´æ¥è¯ç¹«æˆ‘å€‘ã€‚";
                    }

                    return data.candidates?.[0]?.content?.parts?.[0]?.text || "æŠ±æ­‰ï¼Œè«‹å†èªªä¸€æ¬¡ã€‚";
                } catch (error) {
                    return "é€£ç·šéŒ¯èª¤ï¼Œè«‹æª¢æŸ¥ç¶²è·¯ã€‚";
                } finally {
                    setIsLoading(false);
                }
            };

            const handleSend = async (text = input) => {
                if (!text.trim()) return;
                const userMsg = text.trim();
                setMessages(prev => [...prev, { role: 'user', text: userMsg }]);
                setInput('');
                const reply = await callGemini(userMsg);
                setMessages(prev => [...prev, { role: 'model', text: reply }]);
            };

            const handleKeyPress = (e) => {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    handleSend();
                }
            };

            const needsKey = !envApiKey && !userApiKey;

            return (
                <>
                    <button 
                        onClick={() => setIsOpen(!isOpen)} 
                        className={`fixed bottom-24 right-4 md:bottom-28 md:right-8 z-[60] p-4 rounded-full shadow-2xl transition-all duration-300 flex items-center justify-center hover:scale-110 active:scale-95 group ${isOpen ? 'bg-gray-800 rotate-90' : 'bg-gradient-to-r from-indigo-500 to-purple-600'}`}
                    >
                        {isOpen ? <Icons.X className="w-6 h-6 text-white" /> : <Icons.MessageCircle className="w-7 h-7 text-white" />}
                        {!isOpen && <span className="absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full animate-ping"></span>}
                    </button>

                    {isOpen && (
                        <div className="fixed bottom-40 right-4 md:bottom-44 md:right-8 z-[60] w-[90vw] md:w-96 h-[500px] max-h-[60vh] bg-white rounded-2xl shadow-2xl border border-gray-100 flex flex-col overflow-hidden animate-slide-up ring-1 ring-black/5">
                            <div className="bg-gradient-to-r from-indigo-600 to-purple-600 p-4 flex items-center justify-between">
                                <div className="flex items-center gap-2">
                                    <div className="bg-white/20 p-1.5 rounded-lg"><Icons.Sparkles className="w-5 h-5 text-yellow-300" /></div>
                                    <span className="text-white font-bold">AI èª²ç¨‹é¡§å•</span>
                                </div>
                                <button onClick={() => setIsOpen(false)} className="text-white/80 hover:text-white"><Icons.X className="w-5 h-5"/></button>
                            </div>

                            <div className="flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50">
                                {messages.map((msg, idx) => (
                                    <div key={idx} className={`flex ${msg.role === 'user' ? 'justify-end' : 'justify-start'}`}>
                                        <div className={`max-w-[85%] rounded-2xl px-4 py-3 text-sm leading-relaxed shadow-sm ${msg.role === 'user' ? 'bg-indigo-600 text-white rounded-br-none' : 'bg-white text-gray-800 rounded-bl-none border border-gray-100'}`}>
                                            <SimpleMarkdown text={msg.text} />
                                        </div>
                                    </div>
                                ))}
                                {isLoading && <div className="flex justify-start"><div className="bg-white text-gray-500 rounded-2xl px-4 py-3 text-sm border border-gray-100 typing-cursor">AI æ€è€ƒä¸­...</div></div>}
                                <div ref={messagesEndRef} />
                            </div>

                            {!needsKey && (
                                <div className="px-4 py-2 bg-gray-50 overflow-x-auto whitespace-nowrap hide-scrollbar flex gap-2">
                                    {suggestedQuestions.map((q, idx) => (
                                        <button key={idx} onClick={() => handleSend(q)} className="text-xs bg-white border border-indigo-100 text-indigo-600 px-3 py-1.5 rounded-full hover:bg-indigo-50 shadow-sm" disabled={isLoading}>{q}</button>
                                    ))}
                                </div>
                            )}

                            <div className="p-3 bg-white border-t border-gray-100 flex gap-2 items-center">
                                <input 
                                    type="text" 
                                    value={input} 
                                    onChange={(e) => setInput(e.target.value)} 
                                    onKeyPress={handleKeyPress} 
                                    placeholder={needsKey ? "è«‹è¼¸å…¥ API Key" : (isListening ? "è†è½ä¸­..." : "è¼¸å…¥å•é¡Œ...")} 
                                    className="flex-1 bg-gray-100 border-0 rounded-xl px-4 py-2 text-sm focus:ring-2 focus:ring-indigo-500 outline-none" 
                                />
                                {!needsKey && (
                                    <button onClick={startListening} disabled={isLoading} className={`p-2 rounded-xl transition ${isListening ? 'bg-red-500 text-white animate-pulse' : 'bg-gray-100 text-gray-500 hover:bg-gray-200'}`}>
                                        {isListening ? <Icons.Mic className="w-5 h-5" /> : <Icons.MicOff className="w-5 h-5" />}
                                    </button>
                                )}
                                <button onClick={() => handleSend()} disabled={isLoading} className="bg-indigo-600 text-white p-2 rounded-xl hover:bg-indigo-700 transition disabled:opacity-50"><Icons.Send className="w-5 h-5" /></button>
                            </div>
                        </div>
                    )}
                </>
            );
        }

        // --- 8. Main App ---
        function WinterCampApp() {
            const [activeTab, setActiveTab] = React.useState(null);
            const [showPromoDetails, setShowPromoDetails] = React.useState(false);
            const [showRecommendation, setShowRecommendation] = React.useState(false);

            const toggleTab = (id) => {
                if (activeTab === id) {
                    setActiveTab(null);
                } else {
                    setActiveTab(id);
                }
            };

            const camps = {
                time: {
                    id: 'time',
                    title: 'æ™‚ç©ºæ¢éšªéšŠï¼šæ‹¯æ•‘æœªä¾†ä¸–ç•Œ',
                    date: '1/26 (ä¸€) - 1/30 (äº”)',
                    themeColor: 'bg-blue-600',
                    themeLight: 'bg-blue-50',
                    textColor: 'text-blue-900',
                    accentColor: 'text-blue-600',
                    borderColor: 'border-blue-200',
                    icon: <Icons.Rocket className="w-6 h-6" />,
                    description: 'ä¸€é€±å……æ»¿ç§‘æŠ€èˆ‡å‰µæ„çš„æ™‚ç©ºä¹‹æ—…ï¼è®“å­©å­åŒ–èº«æ™‚ç©ºåµæŸ¥å“¡ï¼Œä¿®å¾©æ™‚é–“è£‚ç¸«ï¼',
                    tags: ['Minecraft éŠæˆ²å‰µä½œ', 'LEGO SPIKE æ©Ÿå™¨äºº'],
                    image: 'https://i.ibb.co/gMQQ0YkL/Gemini-Generated-Image-6alobk6alobk6alo.png', 
                    schedule: [
                        { day: '1/26', title: 'æœªä¾†ç§‘æŠ€ - æ™‚ç©ºåµæŸ¥è»Š', task: 'æ‰“é€ å°ˆå±¬æ™‚ç©ºåµæŸ¥è»Šï¼Œæ‰¾å‡ºæ™‚é–“æ··äº‚åŸå› ', tools: ['APPç¨‹å¼è¨­è¨ˆ'] },
                        { day: '1/27', title: 'æœªä¾†ç§‘æŠ€ - æ™‚ç©ºç™¼å°„å°', task: 'çµ„è£ç™¼å°„å™¨ï¼Œå‚³é€è³‡æ–™åˆ°æœªä¾†ç¸½éƒ¨', tools: ['APPç¨‹å¼è¨­è¨ˆ'] },
                        { day: '1/28', title: 'æé¾å¥”é¦³ - ä¾†åˆ°æé¾æ™‚ä»£', task: 'é€²å…¥ Minecraft æé¾ä¸–ç•Œï¼Œé‡ç¾å²å‰å·¨ç¸', tools: ['SPM', 'SPIKE'] },
                        { day: '1/29', title: 'ç”œèœœç¾…é¦¬ - ä¿®å¾©æ™‚é˜æ ¸å¿ƒ', task: 'æ´¾å‡ºç¶­ä¿®æ©Ÿå™¨äººï¼Œä¿®å¾©æ§åˆ¶æ™‚é–“çš„æ™‚é˜', tools: ['SPM', 'SPIKE'] },
                        { day: '1/30', title: 'è¥¿éƒ¨è’é‡ - æ™‚é–“é‡å•Ÿä»»å‹™', task: 'å®Œæˆæœ€çµ‚ä»»å‹™ï¼Œè®“æ™‚é–“ç©©å®šå™¨é‡æ–°é‹ä½œ', tools: ['SPM', 'SPIKE'] },
                    ]
                },
                art: {
                    id: 'art',
                    title: 'è—è¡“æ©Ÿæ¢°å¸«ï¼šå‰µæ„è£½é€ å·¥åŠ',
                    date: '2/02 (ä¸€) - 2/06 (äº”)',
                    themeColor: 'bg-orange-500',
                    themeLight: 'bg-orange-50',
                    textColor: 'text-orange-900',
                    accentColor: 'text-orange-600',
                    borderColor: 'border-orange-200',
                    icon: <Icons.Palette className="w-6 h-6" />,
                    description: 'ä¸€é€±çµåˆè—è¡“èˆ‡ç§‘æŠ€çš„å‰µä½œä¹‹æ—…ï¼å­¸ç¿’åœ–å½¢è¨­è¨ˆã€é›·å°„åˆ‡å‰²ã€3Dåˆ—å°èˆ‡æ©Ÿå™¨äººç©æœ¨ï¼',
                    tags: ['åœ–å½¢è¨­è¨ˆ', 'é›·å°„åˆ‡å‰²', '3D åˆ—å°', 'SPM/SPIKE ç©æœ¨'],
                    image: 'https://i.ibb.co/qYGnKZgb/Gemini-Generated-Image-otu943otu943otu9.png',
                    schedule: [
                        { day: '2/02', title: 'å°è©¦èº«æ‰‹ - åŸºç¤é€ å‹', task: 'å­¸ç¿’é›·å°„åˆ‡å‰²åŸºç¤ï¼Œè£½ä½œå°ˆå±¬å°åŠé£¾èˆ‡å£“éºµæ©Ÿ', tools: ['é›·å°„åˆ‡å‰²'] },
                        { day: '2/03', title: 'æ©Ÿå™¨äººæƒ³å¹«æ‰‹', task: 'å®Œæˆå°åŠé£¾ï¼Œè¨­è¨ˆå‹•ç‰©é€ å‹æ¯å¢Šèˆ‡æ”ªæ‹Œå™¨', tools: ['é›·å°„åˆ‡å‰²'] },
                        { day: '2/04', title: 'å‹•ç‰©æ´¾å°', task: 'å‹•ç‰©é€ å‹æ¯å¢Šå¤§åŠŸå‘Šæˆï¼è£½ä½œç´™é£›æ©Ÿç™¼å°„å™¨', tools: ['é›·å°„åˆ‡å‰²'] },
                        { day: '2/05', title: 'åˆä½œæ²™ç•«', task: '3Dåˆ—å°æ²™æ¼é›¶ä»¶ï¼çµ„è£ SPIKE ç•«åœ–æ©Ÿå±•ç¾è—è¡“', tools: ['3Dåˆ—å°', 'SPIKE'] },
                        { day: '2/06', title: 'ä½œå“å±•', task: 'æ²™æ¼çµ„è£å®Œæˆï¼SPIKE ç¿»æ»¾æ©Ÿå™¨äººç™»å ´', tools: ['3Dåˆ—å°', 'SPIKE'] },
                    ]
                },
                newyear: {
                    id: 'newyear',
                    title: 'æ–°æ˜¥ç™¼æ˜å®¶ï¼šæ‹¯æ•‘ç¦æ°£å¡”',
                    date: '2/09 (ä¸€) - 2/13 (äº”)',
                    themeColor: 'bg-red-600',
                    themeLight: 'bg-red-50',
                    textColor: 'text-red-900',
                    accentColor: 'text-red-600',
                    borderColor: 'border-red-200',
                    icon: <Icons.Star className="w-6 h-6" />,
                    description: 'åŒ–èº«å°å°ç™¼æ˜å®¶ï¼Œé‹ç”¨ç§‘æŠ€æ‹¯æ•‘æ–°æ˜¥åŸï¼Œæ“Šæ•—å¹´ç¸ï¼Œé»äº®ç¦æ°£å¡”ï¼',
                    tags: ['3D åˆ—å°', 'é›·å°„åˆ‡å‰²', 'Minecraft', 'LEGO SPM/Spike'],
                    image: 'https://i.ibb.co/5gFCVkLm/Gemini-Generated-Image-leo3qtleo3qtleo3.png',
                    schedule: [
                        { day: '2/09', title: 'æ‰¾å›èƒ½é‡æ ¸å¿ƒ', task: '3Dåˆ—å°æ–°æ˜¥å…ƒç´ ï¼Œçµ„è£åŠ è¾²ç‚®æ‰¾å›æ ¸å¿ƒ', tools: ['3Dåˆ—å°', 'SPIKE'] },
                        { day: '2/10', title: 'æ”¶é›†æ•£è½é›¶ä»¶', task: '3Dåˆ—å°é›¶ä»¶ï¼Œæ‰“é€ æ©Ÿæ¢°å¤¾å­æ”¶é›†ç¦æ°£', tools: ['3Dåˆ—å°', 'SPIKE'] },
                        { day: '2/11', title: 'è£½ä½œå•Ÿå‹•æ ¸å¿ƒ', task: 'é›·å°„åˆ‡å‰²å‰ç¥¥åœ–æ¡ˆï¼Œç•«åœ–æ©Ÿç¹ªè£½ç¥ç¦', tools: ['é›·å°„åˆ‡å‰²', 'SPIKE'] },
                        { day: '2/12', title: 'é€²å…¥æ˜¥å¤©ç§˜å¢ƒ', task: 'æŒ‘æˆ° Minecraft é—œå¡ï¼Œè£½ä½œé®å®šå¹´ç¸çš„ä¿¡è™Ÿæ©Ÿ', tools: ['Minecraft', 'SPIKE'] },
                        { day: '2/13', title: 'æœ€çµ‚æ±ºæˆ°', task: 'æ“Šæ•—å¹´ç¸ï¼Œä¿®å¾©ç¦æ°£å¡”ï¼Œè¿æ¥æ–°æ˜¥æ…¶å…¸ï¼', tools: ['Minecraft', 'SPIKE'] },
                    ]
                }
            };

            const LegoBrick = ({ color, size, rotation, top, left, right, bottom }) => (
                <div className={`absolute ${rotation} hidden lg:block opacity-20 hover:opacity-40 transition-opacity duration-500`} style={{ top, left, right, bottom }}>
                    <div className={`relative ${color} shadow-lg rounded-sm`} style={{ width: size === 'large' ? '60px' : '40px', height: size === 'large' ? '30px' : '20px' }}>
                        <div className={`absolute -top-1 left-1 w-1/3 h-2 ${color} brightness-110 rounded-sm`}></div>
                        <div className={`absolute -top-1 right-1 w-1/3 h-2 ${color} brightness-110 rounded-sm`}></div>
                    </div>
                </div>
            );

            return (
                <div className="min-h-screen bg-gray-50 font-sans selection:bg-yellow-200" style={{ backgroundImage: `radial-gradient(#e5e7eb 15%, transparent 16%), radial-gradient(#e5e7eb 15%, transparent 16%)`, backgroundSize: '30px 30px', backgroundPosition: '0 0, 15px 15px' }}>
                    
                    <nav className="bg-white/90 backdrop-blur-sm shadow-sm sticky top-0 z-50 border-b border-gray-100">
                        <div className="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
                            <div className="flex justify-between h-16 items-center">
                                <div className="flex items-center gap-2 md:gap-3">
                                    <img src="https://i.ibb.co/JW0ZQX0g/1.jpg" alt="æ¨‚ç¨‹åŠ Logo" className="h-8 md:h-10 w-auto rounded-lg object-contain" onError={(e) => e.target.style.display = 'none'} />
                                    <span className="font-bold text-lg md:text-xl text-gray-800 tracking-tight">æ¨‚ç¨‹åŠ å†¬ä»¤ç‡Ÿ</span>
                                </div>
                                <div className="flex gap-2 md:gap-4 items-center">
                                    <div className="hidden md:flex space-x-8">
                                        <a href="#courses" className="text-gray-600 hover:text-indigo-600 font-medium flex items-center">èª²ç¨‹ä»‹ç´¹</a>
                                        <a href="#features" className="text-gray-600 hover:text-indigo-600 font-medium flex items-center">ç‡ŸéšŠç‰¹è‰²</a>
                                    </div>
                                    <a href="https://lin.ee/pYiEYcG" target="_blank" rel="noopener noreferrer" className="bg-[#06C755] text-white px-3 py-2 md:px-4 md:py-2 rounded-full font-medium hover:bg-[#05b34c] transition-colors shadow-lg flex items-center gap-1 text-sm md:text-base">
                                        <span className="md:hidden">LINE</span>
                                        <span className="hidden md:inline">åŠ å…¥å®˜æ–¹LINE</span>
                                    </a>
                                    <a href="https://forms.gle/f3sfoTYYNKuqbZSV9" target="_blank" rel="noopener noreferrer" className="bg-indigo-600 text-white px-4 py-2 md:px-5 md:py-2 rounded-full font-medium hover:bg-indigo-700 transition-colors shadow-lg shadow-indigo-200 flex items-center text-sm md:text-base">ç«‹å³å ±å</a>
                                </div>
                            </div>
                        </div>
                    </nav>

                    <div className="relative bg-indigo-900 text-white overflow-hidden">
                        <div className="absolute inset-0 opacity-10" style={{ backgroundImage: 'radial-gradient(circle, #ffffff 25%, transparent 26%)', backgroundSize: '40px 40px' }}></div>
                        <LegoBrick color="bg-yellow-400" size="large" rotation="rotate-12" top="10%" right="10%" />
                        <LegoBrick color="bg-red-500" size="small" rotation="-rotate-6" bottom="20%" left="5%" />
                        <LegoBrick color="bg-blue-400" size="large" rotation="rotate-45" top="15%" left="15%" />
                        <LegoBrick color="bg-green-400" size="small" rotation="-rotate-12" bottom="10%" right="20%" />
                        <div className="max-w-6xl mx-auto px-4 py-10 md:py-24 relative z-10 text-center">
                            <h1 className="text-3xl md:text-6xl font-extrabold mb-4 md:mb-6 tracking-tight leading-tight drop-shadow-md">é»ç‡ƒå­©å­çš„ <span className="text-yellow-400 inline-block transform hover:-translate-y-1 transition-transform">å‰µé€ åŠ›</span> èˆ‡ <span className="text-cyan-400 inline-block transform hover:-translate-y-1 transition-transform">ç§‘æŠ€é­‚</span></h1>
                            <p className="text-lg md:text-2xl text-indigo-100 max-w-3xl mx-auto mb-8 md:mb-10 drop-shadow-sm px-2">ä¸‰å€‹ä¸»é¡Œï¼Œä¸‰ç¨®å†’éšªã€‚çµåˆ Minecraftã€LEGO æ©Ÿå™¨äººã€3Dåˆ—å°èˆ‡é›·å°„åˆ‡å‰²çš„æ²‰æµ¸å¼å­¸ç¿’é«”é©—ã€‚</p>
                            
                            {/* å„ªåŒ–å¾Œçš„å€’æ•¸è¨ˆæ™‚å™¨ */}
                            <CountdownTimer />

                            <div className="flex flex-col sm:flex-row justify-center gap-4 mt-8">
                                <button onClick={() => document.getElementById('courses').scrollIntoView({behavior: 'smooth'})} className="bg-white text-indigo-900 px-8 py-4 rounded-xl font-bold text-lg hover:bg-gray-100 transition-transform transform hover:scale-105 shadow-xl border-b-4 border-gray-300 active:border-b-0 active:translate-y-1">æ¢ç´¢èª²ç¨‹</button>
                                <button onClick={() => setShowRecommendation(true)} className="bg-gradient-to-r from-blue-500 to-cyan-400 text-white px-8 py-4 rounded-xl font-bold text-lg hover:shadow-xl transition-all transform hover:scale-105 shadow-lg border-b-4 border-blue-600 active:border-b-0 active:translate-y-1 flex items-center gap-2">
                                    <Icons.Sparkles className="w-5 h-5" /> ğŸ¤– ä¸çŸ¥é“é¸å“ªå€‹ï¼ŸAI å¹«ä½ æŒ‘ï¼
                                </button>
                            </div>
                            <div className="mt-8 md:mt-12 flex justify-center"><img src="https://i.ibb.co/LDF83gSC/unnamed.jpg" alt="èª²ç¨‹æ´»å‹•ç¸½è¦½" className="rounded-2xl shadow-2xl border-4 border-white/20 max-w-full h-auto md:max-w-4xl hover:scale-[1.01] transition-transform duration-500" onError={(e) => e.target.style.display = 'none'} referrerPolicy="no-referrer" /></div>
                        </div>
                    </div>
                    
                    <AIRecommendationModal isOpen={showRecommendation} onClose={() => setShowRecommendation(false)} camps={camps} />

                    <div id="courses" className="max-w-5xl mx-auto px-4 py-8 md:py-12 sm:px-6 relative z-10">
                        <div className="text-center mb-8 md:mb-10">
                            <h2 className="text-2xl md:text-3xl font-bold text-gray-900 bg-white/80 inline-block px-6 py-2 rounded-full backdrop-blur-sm shadow-sm border border-white">é¸æ“‡æ‚¨çš„å†’éšªæ—…ç¨‹</h2>
                            <p className="text-gray-600 mt-2 font-medium text-sm md:text-base">é»æ“Šä¸‹æ–¹ä¸»é¡ŒæŸ¥çœ‹è©³ç´°èª²ç¨‹å…§å®¹</p>
                        </div>
                        <div className="flex flex-col gap-4 md:gap-6">
                            {Object.values(camps).map((camp) => {
                                const isActive = activeTab === camp.id;
                                return (
                                    <div key={camp.id} className={`bg-white rounded-3xl overflow-hidden transition-all duration-500 border-2 ${isActive ? `${camp.borderColor} shadow-xl` : 'border-transparent shadow-md hover:shadow-lg'}`}>
                                        <button onClick={() => toggleTab(camp.id)} className={`w-full flex flex-col md:flex-row items-start md:items-center justify-between p-5 md:p-8 text-left transition-colors cursor-pointer relative ${isActive ? camp.themeLight : 'bg-white hover:bg-gray-50'}`}>
                                            <div className="flex items-center gap-4 md:gap-5 w-full">
                                                <div className={`p-3 md:p-4 rounded-2xl shrink-0 transition-colors ${isActive ? 'bg-white shadow-sm' : 'bg-gray-100'}`}>{camp.icon}</div>
                                                <div className="flex-grow">
                                                    <div className="flex flex-wrap items-center gap-2 mb-1"><h3 className={`text-lg md:text-2xl font-bold ${isActive ? camp.textColor : 'text-gray-800'}`}>{camp.title.split('ï¼š')[0]}</h3><span className="text-xs md:text-base text-gray-500 font-medium">{camp.title.split('ï¼š')[1]}</span></div>
                                                    <div className="inline-flex items-center gap-2 px-2 py-1 md:px-3 rounded-full text-xs md:text-sm font-bold bg-white/60 border border-gray-100 text-gray-600"><Icons.Calendar className="w-3 h-3 md:w-3.5 md:h-3.5" />{camp.date.split('(')[0]}</div>
                                                </div>
                                                <div className="flex items-center gap-2">{!isActive && <span className="text-xs font-bold text-indigo-500 animate-pulse hidden sm:inline-block">ğŸ‘† é»æ“Šå±•é–‹</span>}<div className={`transform transition-transform duration-300 ${isActive ? 'rotate-180' : ''}`}><Icons.ChevronDown className={`w-5 h-5 md:w-6 md:h-6 ${isActive ? 'text-gray-400' : 'text-indigo-500 animate-bounce'}`} /></div></div>
                                            </div>
                                        </button>
                                        <div className={`transition-all duration-500 ease-in-out overflow-hidden ${isActive ? 'max-h-[3000px] opacity-100' : 'max-h-0 opacity-0'}`}>
                                            <div className="relative">
                                                <div className="absolute top-0 left-0 bottom-0 w-2 bg-gray-50 flex flex-col items-center justify-start gap-2 py-4 hidden md:flex">{[...Array(20)].map((_, i) => <div key={i} className="w-1 h-1 rounded-full bg-gray-300"></div>)}</div>
                                                <div className="md:pl-8">
                                                    <div className="px-5 py-5 md:px-6 md:py-6 md:pr-8"><p className="text-base md:text-lg text-gray-600 mb-4 md:mb-6 leading-relaxed">{camp.description}</p><div className="flex flex-wrap gap-2 mb-6">{camp.tags.map((tag, idx) => (<span key={idx} className={`px-2 py-1 md:px-3 rounded-md text-xs md:text-sm font-medium bg-gray-100 ${camp.textColor} border border-gray-200`}>#{tag}</span>))}</div></div>
                                                    {camp.image && (<div className="px-5 md:px-6 md:pr-8 mb-6 md:mb-8"><div className="rounded-2xl overflow-hidden shadow-lg border border-gray-100"><img src={camp.image} alt={`${camp.title} èª²ç¨‹æµ·å ±`} className="w-full h-auto object-cover max-h-[500px]" onError={(e) => { e.target.onerror = null; e.target.src = "https://placehold.co/800x400/f3f4f6/374151?text=åœ–ç‰‡è¼‰å…¥å¤±æ•—"; }} referrerPolicy="no-referrer" /></div></div>)}
                                                    <div className="px-5 md:px-6 md:pr-8 pb-6 md:pb-8"><h4 className="text-lg md:text-xl font-bold text-gray-800 mb-4 md:mb-6 flex items-center gap-2"><Icons.Clock className="text-gray-400 w-5 h-5" />æ¯æ—¥ç²¾å½©èª²è¡¨ (å·¦å³æ»‘å‹•)</h4>
                                                        <div className="flex flex-row flex-nowrap md:grid md:grid-cols-5 gap-4 overflow-x-auto pb-4 snap-x smooth-scroll">
                                                            {camp.schedule.map((day, index) => (
                                                                <div key={index} className={`flex-shrink-0 w-72 md:w-auto snap-center bg-white rounded-xl border-b-4 hover:-translate-y-1 transition-all duration-300 group relative overflow-hidden border border-t-gray-100 border-x-gray-100 ${camp.id === 'time' ? 'border-b-blue-200 hover:border-b-blue-400' : ''} ${camp.id === 'art' ? 'border-b-orange-200 hover:border-b-orange-400' : ''} ${camp.id === 'newyear' ? 'border-b-red-200 hover:border-b-red-400' : ''}`}>
                                                                    <div className={`h-2 w-full ${camp.themeColor} opacity-20 flex justify-center gap-1 items-center`}><div className="w-6 h-1 bg-white/40 rounded-full"></div><div className="w-6 h-1 bg-white/40 rounded-full"></div></div>
                                                                    <div className={`p-3 text-center text-white font-bold ${camp.themeColor}`}>{day.day}</div>
                                                                    <div className="p-4 flex-grow flex flex-col justify-between h-[160px] md:h-[180px]"><div><h5 className={`font-bold text-base md:text-lg mb-2 leading-tight ${camp.textColor}`}>{day.title}</h5><p className="text-sm text-gray-600 mb-4 leading-relaxed line-clamp-2">{day.task}</p></div><div className="pt-3 border-t border-gray-100 mt-auto"><div className="flex flex-wrap gap-1">{day.tools.map((tool, i) => (<span key={i} className={`text-[10px] px-2 py-1 rounded bg-gray-100 text-gray-600 font-medium border border-gray-200`}>{tool}</span>))}</div></div></div>
                                                                </div>
                                                            ))}
                                                        </div>
                                                    </div>
                                                    <div className="bg-gray-50 p-5 md:p-6 flex flex-col sm:flex-row justify-between items-center gap-4 border-t border-gray-100 md:pr-8 rounded-br-3xl">
                                                        <div className="flex items-center gap-3 text-gray-600 text-xs md:text-base w-full justify-center md:justify-start"><div className="flex items-center gap-1.5"><Icons.MapPin className="w-4 h-4" /><span className="font-medium">å°åŒ—å¸‚ç§‘æŠ€æ•™è‚²ä¸­å¿ƒ</span></div><div className="block w-px h-3 bg-gray-300"></div><div className="flex items-center gap-1.5"><Icons.Clock className="w-4 h-4" /><span className="font-medium">09:00 - 17:00</span></div></div>
                                                        <a href="https://forms.gle/f3sfoTYYNKuqbZSV9" target="_blank" rel="noopener noreferrer" className={`w-full sm:w-auto text-center px-8 py-3 rounded-xl font-bold text-white shadow-lg transform transition hover:scale-105 active:scale-95 flex items-center justify-center gap-2 border-b-4 border-black/20 ${camp.themeColor}`}>å ±å{camp.title.split('ï¼š')[0]} <Icons.ChevronRight className="w-4 h-4" /></a>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                );
                            })}
                        </div>
                    </div>

                    <Gallery />
                    <Testimonials />

                    <div id="features" className="bg-white/80 backdrop-blur-md py-12 md:py-16 border-t border-gray-100 relative z-10">
                        <div className="max-w-6xl mx-auto px-4 sm:px-6">
                            <div className="text-center mb-8 md:mb-12"><h2 className="text-2xl md:text-3xl font-bold text-gray-900">ç‚ºä»€éº¼é¸æ“‡æˆ‘å€‘ï¼Ÿ</h2></div>
                            <div className="grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8">
                                <div className="p-6 bg-blue-50 rounded-2xl border-2 border-blue-100 border-b-4 hover:translate-y-[-4px] transition-transform"><div className="w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center text-blue-600 mb-4 shadow-sm"><Icons.Cpu className="w-6 h-6" /></div><h3 className="text-xl font-bold text-gray-900 mb-2">è·¨é ˜åŸŸ STEAM å­¸ç¿’</h3><p className="text-gray-600">çµåˆç§‘å­¸ã€æŠ€è¡“ã€å·¥ç¨‹ã€è—è¡“èˆ‡æ•¸å­¸ï¼ŒåŸ¹é¤Šå­©å­è§£æ±ºçœŸå¯¦å•é¡Œçš„èƒ½åŠ›ã€‚</p></div>
                                <div className="p-6 bg-orange-50 rounded-2xl border-2 border-orange-100 border-b-4 hover:translate-y-[-4px] transition-transform"><div className="w-12 h-12 bg-orange-100 rounded-xl flex items-center justify-center text-orange-600 mb-4 shadow-sm"><Icons.Box className="w-6 h-6" /></div><h3 className="text-xl font-bold text-gray-900 mb-2">å¯¦é«”ä½œå“å¸¶å›å®¶</h3><p className="text-gray-600">ä¸åªæ˜¯è½èª²ï¼Œæ¯å€‹ç‡ŸéšŠéƒ½æœ‰è±å¯Œçš„å¯¦ä½œç”¢å‡ºï¼Œè®“å­©å­å°‡è‡ªä¿¡ä½œå“å¸¶å›å®¶å±•ç¤ºã€‚</p></div>
                                <div className="p-6 bg-red-50 rounded-2xl border-2 border-red-100 border-b-4 hover:translate-y-[-4px] transition-transform"><div className="w-12 h-12 bg-red-100 rounded-xl flex items-center justify-center text-red-600 mb-4 shadow-sm"><Icons.Heart className="w-6 h-6" /></div><h3 className="text-xl font-bold text-gray-900 mb-2">å°ˆæ¥­å¸«è³‡å¼•å°</h3><p className="text-gray-600">æ“æœ‰è±å¯Œæ•™å­¸ç¶“é©—çš„è¬›å¸«åœ˜éšŠï¼Œå¼•å°å­©å­å¾æ§‹æ€åˆ°å¯¦è¸ï¼Œæ¿€ç™¼ç„¡é™æ½›èƒ½ã€‚</p></div>
                            </div>
                        </div>
                    </div>

                    <footer className="bg-gray-900 text-gray-400 py-12 border-t-8 border-indigo-600">
                        <div className="max-w-6xl mx-auto px-4 sm:px-6 flex flex-col md:flex-row justify-between items-center gap-6"><div className="text-center md:text-left"><h4 className="text-white text-xl font-bold mb-2">æ¨‚ç¨‹åŠ å†¬ä»¤ç‡Ÿ</h4><p>å•Ÿç™¼å­©å­çš„æœªä¾†ç«¶çˆ­åŠ›</p></div><div className="flex gap-4 md:gap-6 text-sm"><a href="#" className="hover:text-white transition">é—œæ–¼æˆ‘å€‘</a><a href="#" className="hover:text-white transition">å¸¸è¦‹å•é¡Œ</a><a href="#" className="hover:text-white transition">è¯çµ¡æˆ‘å€‘</a></div><div className="text-xs md:text-sm mt-4 md:mt-0">&copy; 2025 Creative Camp. All rights reserved. 
                        <span className="ml-2 cursor-pointer opacity-50 hover:opacity-100" onClick={() => document.getElementById('gallery-admin-trigger').click()}><Icons.Key className="w-3 h-3 inline" /></span>
                        </div></div>
                    </footer>

                    <div className="h-32 md:h-40"></div>

                    <div className="fixed bottom-0 left-0 right-0 z-50 p-3 md:p-4">
                        {showPromoDetails && (
                            <div className="absolute bottom-full left-0 right-0 mb-2 mx-3 md:mx-auto max-w-2xl bg-white rounded-2xl shadow-2xl border border-red-100 overflow-hidden animate-slide-up max-h-[60vh] overflow-y-auto">
                                <div className="bg-red-50 p-4 border-b border-red-100 flex justify-between items-center sticky top-0 z-10"><h3 className="font-bold text-red-800 flex items-center gap-2"><Icons.Gift className="w-5 h-5" /> å„ªæƒ æ´»å‹•è©³æƒ…</h3><button onClick={() => setShowPromoDetails(false)} className="p-1 hover:bg-red-100 rounded-full transition"><Icons.X className="w-5 h-5 text-red-400" /></button></div>
                                <div className="p-5 space-y-4">
                                    <div className="flex items-start gap-3"><div className="bg-red-100 text-red-600 p-1 rounded-full mt-0.5 shrink-0"><Icons.Check className="w-3 h-3" /></div><div><span className="block text-red-600 text-sm font-bold">ğŸ”¥ æ—©é³¥å„ªæƒ </span><span className="text-gray-600 text-sm">12/31 å‰å ±åç¾æŠ˜ 500 å…ƒ</span></div></div>
                                    <div className="flex items-start gap-3"><div className="bg-red-100 text-red-600 p-1 rounded-full mt-0.5 shrink-0"><Icons.Check className="w-3 h-3" /></div><div><span className="block text-red-600 text-sm font-bold">ğŸ”¥ èˆŠç”Ÿå†å ±å</span><span className="text-gray-600 text-sm">æŠ˜ 500 å…ƒ</span></div></div>
                                    <div className="flex items-start gap-3"><div className="bg-red-100 text-red-600 p-1 rounded-full mt-0.5 shrink-0"><Icons.Check className="w-3 h-3" /></div><div><span className="block text-red-600 text-sm font-bold">ğŸ”¥ åœ˜å ± or ä¸€ä½å¤šå ± (å«å…©æ¢¯)</span><span className="text-gray-600 text-sm">æŠ˜ 500 å…ƒ</span></div></div>
                                    <div className="flex items-start gap-3"><div className="bg-red-100 text-red-600 p-1 rounded-full mt-0.5 shrink-0"><Icons.Check className="w-3 h-3" /></div><div><span className="block text-red-600 text-sm font-bold">ğŸ”¥ åˆ†äº«è²¼æ–‡ @æœ‹å‹</span><span className="text-gray-600 text-sm">æŠ˜ 500 å…ƒ</span></div></div>
                                </div>
                            </div>
                        )}
                        <div className="bg-white/95 backdrop-blur-md border border-gray-200 shadow-2xl rounded-2xl p-2.5 md:p-4 max-w-4xl mx-auto flex items-center justify-between gap-2 md:gap-4 ring-1 ring-black/5">
                            <div className="flex items-center gap-2 md:gap-3 cursor-pointer group flex-1" onClick={() => setShowPromoDetails(!showPromoDetails)}><div className="bg-gradient-to-br from-red-500 to-pink-600 text-white p-2 md:p-2.5 rounded-full shadow-md group-hover:scale-110 transition-transform duration-300"><Icons.Gift className="w-4 h-4 md:w-6 md:h-6" /></div><div className="flex flex-col"><span className="text-red-600 font-extrabold text-sm md:text-lg tracking-tight leading-tight">æœ€é«˜æŠ˜ $2000</span><span className="text-gray-400 text-[10px] md:text-sm flex items-center gap-1 group-hover:text-red-400 transition-colors">æŸ¥çœ‹è©³æƒ… <Icons.ChevronUp className={`w-3 h-3 transition-transform duration-300 ${showPromoDetails ? 'rotate-180' : ''}`} /></span></div></div>
                            
                            <div className="flex items-center gap-2">
                                <a href="https://lin.ee/pYiEYcG" target="_blank" rel="noopener noreferrer" className="bg-[#06C755] text-white p-2.5 md:px-4 md:py-3 rounded-xl font-bold shadow-lg hover:bg-[#05b34c] transition-all active:scale-95 flex items-center justify-center gap-1">
                                    <Icons.Rocket className="w-5 h-5 fill-current hidden md:block" /> 
                                    <span className="text-sm md:text-base whitespace-nowrap">LINE</span>
                                    <span className="hidden md:inline">å¥½å‹</span>
                                </a>
                                <a href="https://forms.gle/f3sfoTYYNKuqbZSV9" target="_blank" rel="noopener noreferrer" className="bg-indigo-600 text-white px-4 py-2.5 md:px-6 md:py-3 rounded-xl font-bold shadow-lg hover:bg-indigo-700 hover:shadow-indigo-200 transition-all active:scale-95 whitespace-nowrap text-sm md:text-base flex items-center gap-1.5 md:gap-2">ç«‹å³å ±å <Icons.ChevronRight className="w-4 h-4 hidden sm:block" /></a>
                            </div>
                        </div>
                    </div>

                    <ScrollToTop />
                    <AIChatAssistant camps={camps} />
                    
                    {/* Hidden trigger for admin */}
                    <button id="gallery-admin-trigger" className="hidden" onClick={() => document.querySelector('.admin-btn')?.click()}></button>
                </div>
            );
        }

        // Initialize React - é—œéµçš„è¼‰å…¥é †åºæ§åˆ¶
        const rootElement = document.getElementById('root');
        
        try {
            const root = ReactDOM.createRoot(rootElement);
            root.render(<WinterCampApp />);
            
            // React æˆåŠŸå•Ÿå‹•å¾Œï¼Œç§»é™¤ Loading ç•«é¢
            const loader = document.getElementById('loading-screen');
            if(loader) loader.style.display = 'none';
        } catch (error) {
            console.error("React render failed:", error);
            // å¦‚æœæ¸²æŸ“å¤±æ•—ï¼Œè®“å…¨åŸŸéŒ¯èª¤è™•ç†å»æ¥
            throw error; 
        }
    </script>
</body>
</html>
